<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-11-23 Mon 23:16 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nancy&rsquo;s C Style Guide</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Nancy" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet"
                     href="../assets/style.css"
                     type="text/css"/>
                     <link href="https://fonts.googleapis.com/css?family=Domine:wght@500&display=swap"
                     rel="stylesheet"
                     type="text/css"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Nancy&rsquo;s C Style Guide</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgcc9d148">Language version</a></li>
<li><a href="#org73ffe89">Compiler</a></li>
<li><a href="#org02727e9">C flags</a></li>
<li><a href="#org8d66f72">Static v.s. dynamic linking</a></li>
<li><a href="#org2426e33">Libc implementation</a></li>
<li><a href="#org29bbdb5">Build system</a>
<ul>
<li><a href="#org7101233">CMake</a>
<ul>
<li><a href="#org038648f">CMake project definition templates</a></li>
<li><a href="#org90c090c">Build configurations</a></li>
</ul>
</li>
<li><a href="#orga57114e">Other interesting build systems</a></li>
<li><a href="#orge9a6d42"><span class="todo TODO">TODO</span> use of pkg-build</a></li>
<li><a href="#orgd471d69"><span class="todo TODO">TODO</span> build system agnosticism?</a></li>
</ul>
</li>
<li><a href="#org0fd77d0">Version control</a>
<ul>
<li><a href="#org6c50e46"><span class="todo TODO">TODO</span> Branches</a></li>
<li><a href="#org52b12bb"><span class="todo TODO">TODO</span> GitHub repositories</a></li>
</ul>
</li>
<li><a href="#org0804951"><span class="todo TODO">TODO</span> Documentation</a>
<ul>
<li><a href="#org852d3e3"><span class="todo TODO">TODO</span> investigate doxygen and man files</a></li>
</ul>
</li>
<li><a href="#orgc09f40c"><span class="todo TODO">TODO</span> Distribution</a></li>
<li><a href="#org727d545">Project directory structure</a>
<ul>
<li><a href="#org6773cf6"><code>README.md</code></a>
<ul>
<li><a href="#org9e1b123"><span class="todo TODO">TODO</span> discuss README template</a></li>
</ul>
</li>
<li><a href="#orgf85e85a"><code>LICENSE</code></a></li>
<li><a href="#org10fa238"><code>.gitignore</code></a></li>
<li><a href="#orgcb89ff3"><code>.gitattributes</code></a></li>
<li><a href="#orga99baa6"><span class="todo TODO">TODO</span> <code>meson.build</code></a></li>
</ul>
</li>
<li><a href="#org2de2fcd">Comments</a></li>
<li><a href="#org5d1a7fd">Formatting</a>
<ul>
<li><a href="#org3ca0ab6">TODO</a></li>
</ul>
</li>
<li><a href="#orgfb17a13">Naming conventions</a>
<ul>
<li><a href="#orgfb36bf1"><span class="todo TODO">TODO</span> write more!</a></li>
</ul>
</li>
<li><a href="#org52b1280">Code conventions</a></li>
<li><a href="#org8ec48d1">Object-orientation</a></li>
<li><a href="#org42fa3e0"><span class="todo TODO">TODO</span> Multiple constructors and initializers</a>
<ul>
<li><a href="#org98e03bc"><span class="todo TODO">TODO</span> Polymorphism</a></li>
</ul>
</li>
<li><a href="#org75c87cf"><span class="todo TODO">TODO</span> Use of <code>goto</code></a></li>
</ul>
</div>
</div>
<p>
Hehe, these are my notes on code formatting and conventions in C! With this I won&rsquo;t have to spend so much time agonizing over side-matters randomly all the time! XD
</p>

<p>
What this guide gives me is a way to offload my thoughts of side-matters of formatting and conventions into a container that I can simply refer to in order to satisfy with minimal cost of brain-energy my inner-craving to stay thoroughly consistent and conformative to my own reasonings!
</p>

<p>
I like my code to be clean, readable, consistent, and pretty! @_@
</p>

<p>
<i>(this is a work in progress hehe)</i>
</p>

<div id="outline-container-orgcc9d148" class="outline-2">
<h2 id="orgcc9d148">Language version</h2>
<div class="outline-text-2" id="text-orgcc9d148">
<p>
I like ANSI C! (C89/C90) (This probably corresponds to any of the <code>-ansi</code> or <code>-std=c89</code> or <code>-std=c90</code> compiler flags.)
</p>

<p>
The reason I choose ANSI C is simply because I&rsquo;ve yet to master it. And because it&rsquo;s simpler than later standards (to my knowledge). I might &ldquo;graduate&rdquo; to C99 and then to C11 and so forth when I feel I&rsquo;ve learned everything about C89. I feel that my appreciation for later standards depends on my thorough knowledge of the previous ones. So for now, I stick with ANSI C! :o
</p>
</div>
</div>

<div id="outline-container-org73ffe89" class="outline-2">
<h2 id="org73ffe89">Compiler</h2>
<div class="outline-text-2" id="text-org73ffe89">
<p>
I&rsquo;m not too picky about which compiler to use, and furthermore, as long as I intend to conform to a standard, and as long as the compiler supports that standard, the choice of compiler is immaterial to the code I write.
</p>

<p>
But if I have to be explicit, I generally use <a href="https://gcc.gnu.org/">GCC</a> because why not. XD It&rsquo;s open-source, ubiquitous, optimizes well, and has plentiful warning and error messages that I am familiar with.
</p>

<p>
Sometimes I play with <a href="https://bellard.org/tcc/">TCC</a>, but I don&rsquo;t do anything serious with it.
</p>
</div>
</div>

<div id="outline-container-org02727e9" class="outline-2">
<h2 id="org02727e9">C flags</h2>
<div class="outline-text-2" id="text-org02727e9">
<p>
For release builds, I always compile with <code>-Wall</code>, <code>-Werror</code>, and <code>-Wpedantic</code> because everything&rsquo;s gotta be perfect. :3
</p>

<p>
For development, I&rsquo;ll leave off the <code>-Werror</code> for ease of incremental development.
</p>

<p>
Since I use Meson, this is set up with each build configuration.
</p>
</div>
</div>

<div id="outline-container-org8d66f72" class="outline-2">
<h2 id="org8d66f72">Static v.s. dynamic linking</h2>
<div class="outline-text-2" id="text-org8d66f72">
<p>
When I am involved explicitly with compilation, I generally prefer static linking. The exceptions are with large and ubiquitous libraries such as GTK.
</p>

<p>
However this should be immaterial to the code I write, so whether I am writing code that depends on external libraries, or writing a library myself, I generally prefer to leave this to the build system.
</p>
</div>
</div>

<div id="outline-container-org2426e33" class="outline-2">
<h2 id="org2426e33">Libc implementation</h2>
<div class="outline-text-2" id="text-org2426e33">
<p>
I&rsquo;m not particularly familiar with libc implementations, nor is it really relevant to the code I write which one is used.
</p>

<p>
<a href="https://www.gnu.org/software/libc/">Glibc</a> is standard, and <a href="https://musl.libc.org/">musl</a> seems interesting.
</p>
</div>
</div>

<div id="outline-container-org29bbdb5" class="outline-2">
<h2 id="org29bbdb5">Build system</h2>
<div class="outline-text-2" id="text-org29bbdb5">
</div>
<div id="outline-container-org7101233" class="outline-3">
<h3 id="org7101233">CMake</h3>
<div class="outline-text-3" id="text-org7101233">
<p>
I decided I want to start using <a href="https://cmake.org">CMake</a>! XD I&rsquo;m only just figuring out how to use it, so I don&rsquo;t know much yet.
</p>

<p>
Here are the criteria that lead me to choose CMake:
</p>

<ul class="org-ul">
<li>So far it seems easy enough to use (I&rsquo;ll report back lol).</li>
<li>It easily supports build configuration variants, which allows me to focus on the project definition and delegate the specifics for each build to build configuration time.
<ul class="org-ul">
<li>This makes it easy to separate release and debug builds.</li>
<li>And it makes cross-builds targeting non-native platforms easier too.</li>
</ul></li>
<li>It&rsquo;s cross platform, so with one build definition I can build on multiple host platforms.</li>
<li>Build system agnostic! It&rsquo;s not a build system <i>itself</i>, but generates build configurations for backend build systems. I like this!</li>
</ul>

<p>
Things I don&rsquo;t like about CMake that aren&rsquo;t deal-breakers:
</p>

<ul class="org-ul">
<li>Having its own DSL. (That said, it&rsquo;s an fairly simple and elegant one, which eases this pain point a bit.)</li>
<li>It&rsquo;s at least complex enough that I have to study and reference how to use it.</li>
</ul>
</div>

<div id="outline-container-org038648f" class="outline-4">
<h4 id="org038648f">CMake project definition templates</h4>
<div class="outline-text-4" id="text-org038648f">
</div>
<ul class="org-ul">
<li><a id="org0419f49"></a>Executable<br />
<div class="outline-text-5" id="text-org0419f49">
<p>
Here is my current template:
</p>
</div>
</li>

<li><a id="orgc1f6b19"></a>Library<br />
<div class="outline-text-5" id="text-orgc1f6b19">
<p>
Here is my current template:
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org90c090c" class="outline-4">
<h4 id="org90c090c">Build configurations</h4>
<div class="outline-text-4" id="text-org90c090c">
</div>
<ul class="org-ul">
<li><a id="org3838011"></a>Debug/development<br />
<div class="outline-text-5" id="text-org3838011">
<p>
Here&rsquo;s how I set up an out of source build directory for general development. In the root of the repository:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #FFE261;">mkdir</span> build                       <span style="color: #91889B;"># </span><span style="color: #91889B;">create the build directory</span>
<span style="color: #FFE261;">cd</span> build                          <span style="color: #91889B;"># </span><span style="color: #91889B;">switch to the build directory</span>
cmake -DCMAKE_BUILD_TYPE=Debug .. <span style="color: #91889B;"># </span><span style="color: #91889B;">configure the build</span>
cmake --build .                   <span style="color: #91889B;"># </span><span style="color: #91889B;">perform the build</span>
</pre>
</div>
</div>
</li>

<li><a id="org0698f56"></a>Native release<br />
<div class="outline-text-5" id="text-org0698f56">
<p>
Here&rsquo;s how I set up an out of source build directory for native release builds. In the root of the repository:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #FFE261;">mkdir</span> build                         <span style="color: #91889B;"># </span><span style="color: #91889B;">create the build directory</span>
<span style="color: #FFE261;">cd</span> build                            <span style="color: #91889B;"># </span><span style="color: #91889B;">switch to the build directory</span>
cmake -DCMAKE_BUILD_TYPE=Release .. <span style="color: #91889B;"># </span><span style="color: #91889B;">configure the build</span>
cmake --build .                     <span style="color: #91889B;"># </span><span style="color: #91889B;">perform the build</span>
</pre>
</div>
</div>
</li>

<li><a id="org6c18d29"></a><span class="todo TODO">TODO</span> Cross builds<br />
<div class="outline-text-5" id="text-org6c18d29">
<p>
I gotta figure out how to do this! <code>0_0</code>
</p>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-orga57114e" class="outline-3">
<h3 id="orga57114e">Other interesting build systems</h3>
<div class="outline-text-3" id="text-orga57114e">
<p>
Some other build systems that seem interesting to me: <a href="http://gittup.org/tup/">tup</a>, <a href="http://cr.yp.to/redo.html">redo</a>
</p>

<p>
What strikes me as interesting about these is their upside down dependency graph. Additionally, what I like about redo is it&rsquo;s Unix-style simplicity. However, redo doesn&rsquo;t support build variants, and I&rsquo;m not a fan of having build scripts scattered among many files. <code>0_0</code>
</p>
</div>
</div>

<div id="outline-container-orge9a6d42" class="outline-3">
<h3 id="orge9a6d42"><span class="todo TODO">TODO</span> use of pkg-build</h3>
<div class="outline-text-3" id="text-orge9a6d42">
<p>
<a href="https://mesonbuild.com/Pkg-config-files.html">https://mesonbuild.com/Pkg-config-files.html</a>
<a href="https://cboard.cprogramming.com/cplusplus-programming/111796-how-generate-pc-file-library.html">https://cboard.cprogramming.com/cplusplus-programming/111796-how-generate-pc-file-library.html</a>
</p>
</div>
</div>
<div id="outline-container-orgd471d69" class="outline-3">
<h3 id="orgd471d69"><span class="todo TODO">TODO</span> build system agnosticism?</h3>
</div>
</div>

<div id="outline-container-org0fd77d0" class="outline-2">
<h2 id="org0fd77d0">Version control</h2>
<div class="outline-text-2" id="text-org0fd77d0">
<p>
I like to use <a href="https://git-scm.com/">Git</a> and host my main projects on <a href="https://github.com/negativefnnancy">GitHub</a>! (I use my <a href="https://github.com/MegaLoler/">other GitHub</a> account for projects I either don&rsquo;t consider to be my main projects, or that I haven&rsquo;t revisited since making my new account.)
</p>
</div>

<div id="outline-container-org6c50e46" class="outline-3">
<h3 id="org6c50e46"><span class="todo TODO">TODO</span> Branches</h3>
<div class="outline-text-3" id="text-org6c50e46">
<p>
The main branch should be called <code>master</code>.
</p>
</div>
</div>

<div id="outline-container-org52b12bb" class="outline-3">
<h3 id="org52b12bb"><span class="todo TODO">TODO</span> GitHub repositories</h3>
</div>
</div>

<div id="outline-container-org0804951" class="outline-2">
<h2 id="org0804951"><span class="todo TODO">TODO</span> Documentation</h2>
<div class="outline-text-2" id="text-org0804951">
</div>
<div id="outline-container-org852d3e3" class="outline-3">
<h3 id="org852d3e3"><span class="todo TODO">TODO</span> investigate doxygen and man files</h3>
</div>
</div>

<div id="outline-container-orgc09f40c" class="outline-2">
<h2 id="orgc09f40c"><span class="todo TODO">TODO</span> Distribution</h2>
</div>

<div id="outline-container-org727d545" class="outline-2">
<h2 id="org727d545">Project directory structure</h2>
<div class="outline-text-2" id="text-org727d545">
<p>
The directory structure should look like this:
</p>

<ul class="org-ul">
<li><code>root/</code>
<dl class="org-dl">
<dt><code>README.md</code></dt><dd>This is the file containing a summary of the project and a basic build guide.</dd>
<dt><code>LICENSE</code></dt><dd>This contains the license copy for the project.</dd>
<dt><code>.gitignore</code></dt><dd>This is where files to be excluded from version control are specified.</dd>
<dt><code>.gitattributes</code></dt><dd>This is for additional Git functionality, such as git-crypt for encrypted files.</dd>
<dt><code>meson.build</code></dt><dd>This is the Meson build definition for the project.</dd>
<dt><code>src/</code></dt><dd>This is where the primary source code goes. This includes all <code>.c</code> files as well as private <code>.h</code> files.</dd>
<dt><code>include/</code></dt><dd>This is where any public <code>.h</code> files go, e.g., for a library project.</dd>
<dt><code>build/</code></dt><dd>This is for the out-of-source build and is excluded from version control.</dd>
</dl></li>
</ul>

<p>
Some of these are optional or only relevant to certain kinds of projects. For example, if I&rsquo;m not writing a library, I probably don&rsquo;t need an <code>include</code> directory to hold public facing header files.
</p>
</div>

<div id="outline-container-org6773cf6" class="outline-3">
<h3 id="org6773cf6"><code>README.md</code></h3>
<div class="outline-text-3" id="text-org6773cf6">
<p>
Because my projects are hosted on GitHub, I like to use a <code>README.md</code> markdown file as opposed to a <code>README.org</code> file (which I was considering, since I use org-mode now). The reason is because markdown is the primary markup format supported by GitHub, and so I consider it to be GitHub&rsquo;s &ldquo;native&rdquo; language for markup.
</p>
</div>

<div id="outline-container-org9e1b123" class="outline-4">
<h4 id="org9e1b123"><span class="todo TODO">TODO</span> discuss README template</h4>
</div>
</div>

<div id="outline-container-orgf85e85a" class="outline-3">
<h3 id="orgf85e85a"><code>LICENSE</code></h3>
<div class="outline-text-3" id="text-orgf85e85a">
<p>
Unless there&rsquo;s a reason to use something else, I like to use the <a href="https://opensource.org/licenses/MIT">MIT license</a>. :o
</p>

<p>
I keep a folder in my home directory called <code>~/licenses</code> which contains a number of pre-written licenses I can just copy over to the project when creating a new one.
</p>
</div>
</div>

<div id="outline-container-org10fa238" class="outline-3">
<h3 id="org10fa238"><code>.gitignore</code></h3>
<div class="outline-text-3" id="text-org10fa238">
<p>
At minimum, this should contain something like this to exclude build-related directories from version control:
</p>

<pre class="example">
build*/
</pre>
</div>
</div>

<div id="outline-container-orgcb89ff3" class="outline-3">
<h3 id="orgcb89ff3"><code>.gitattributes</code></h3>
<div class="outline-text-3" id="text-orgcb89ff3">
<p>
Currently my only use for this is with git-crypt to encrypt files in the repository. If that&rsquo;s the case, there should be an entry like this for every pattern of filenames I want to keep encrypted. Here&rsquo;s an example for encrypting <code>.org</code> files:
</p>

<pre class="example">
*.org filter=git-crypt diff=git-crypt
</pre>
</div>
</div>

<div id="outline-container-orga99baa6" class="outline-3">
<h3 id="orga99baa6"><span class="todo TODO">TODO</span> <code>meson.build</code></h3>
</div>
</div>

<div id="outline-container-org2de2fcd" class="outline-2">
<h2 id="org2de2fcd">Comments</h2>
<div class="outline-text-2" id="text-org2de2fcd">
<ul class="org-ul">
<li>Since it&rsquo;s ANSI C, all comments must use <code>/* this style */</code> (as opposed to <code>// this style</code>).</li>
<li>In general, comments should be all lower case and without the use of full stops at the end.</li>
<li>Prefix comments with <code>TODO:</code> to mark incomplete code.</li>
<li>Prefix comments with <code>NOTE:</code> to mark things the reader should make note of.</li>
</ul>

<p>
There are three kinds of comments:
</p>
<ul class="org-ul">
<li>heading comments</li>
<li>group comments</li>
<li>inline comments</li>
</ul>

<p>
Heading comments should be used to delineate broader sections of code and can be used globally or locally. They should preceded and followed by exactly one empty line (with the exception that files should never begin or end with empty lines!):
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">color functions (this is a global heading comment)</span><span style="color: #91889B;"> */</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">shine_red</span> <span style="color: #40B4C4;">()</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">set up the doo-hickeys (this is a local heading comment)</span><span style="color: #91889B;"> */</span>

    run_the_leverator <span style="color: #EB64B9;">()</span>;
    build_the_caterpillar <span style="color: #EB64B9;">()</span>;
    look_like_u_know_what_ur_doing <span style="color: #EB64B9;">()</span>;

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">make important decisions</span><span style="color: #91889B;"> */</span>

    <span style="color: #40B4C4;">if</span> <span style="color: #EB64B9;">(</span>roses.color == <span style="color: #B381C5;">COLOR_BLUE</span><span style="color: #EB64B9;">)</span>
        look_again <span style="color: #EB64B9;">()</span>;

    <span style="color: #40B4C4;">else</span> <span style="color: #40B4C4;">if</span> <span style="color: #EB64B9;">(</span>roses.color == <span style="color: #B381C5;">COLOR_RED</span><span style="color: #EB64B9;">)</span>
        whew_im_not_going_crazy <span style="color: #EB64B9;">()</span>;
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">shine_yellow</span> <span style="color: #40B4C4;">()</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">...</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">}</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">food functions</span><span style="color: #91889B;"> */</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">eat</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">food_t</span> *<span style="color: #FFFFFF;">food</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">...</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">drink</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">beverage_t</span> *<span style="color: #FFFFFF;">beverage</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">...</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">}</span>
</pre>
</div>

<p>
Group comments should be used directly preceding individual lines of code or small groups of closely related lines of code and should be preceded by exactly one empty line and followed by the lines of code they refer to:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">bake some yummy potatos</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">baked_potato_t</span> *<span style="color: #EB64B9;">bake_potato</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">raw_potato_t</span> *<span style="color: #FFFFFF;">potato</span><span style="color: #40B4C4;">)</span>;

<span style="color: #91889B;">/* </span><span style="color: #91889B;">flavors</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">garlic_flavor</span> = make_flavor <span style="color: #40B4C4;">(</span><span style="color: #B4DCE7;">"garlic"</span><span style="color: #40B4C4;">)</span>;
<span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">onion_flavor</span>  = make_flavor <span style="color: #40B4C4;">(</span><span style="color: #B4DCE7;">"onion"</span><span style="color: #40B4C4;">)</span>;
</pre>
</div>

<p>
Inline comments should be kept short and generally only used to address really specific stuff or to describe each of a sequence of related lines of code:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">house_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">room_t</span> *<span style="color: #FFFFFF;">living_room</span>; <span style="color: #91889B;">/* </span><span style="color: #91889B;">where the tv is</span><span style="color: #91889B;"> */</span>
    <span style="color: #FFE261;">room_t</span> *<span style="color: #FFFFFF;">den</span>;         <span style="color: #91889B;">/* </span><span style="color: #91889B;">where everybody hangs</span><span style="color: #91889B;"> */</span>
    <span style="color: #FFE261;">room_t</span> *<span style="color: #FFFFFF;">office</span>;      <span style="color: #91889B;">/* </span><span style="color: #91889B;">where procrastination gets done</span><span style="color: #91889B;"> */</span>
    <span style="color: #FFE261;">room_t</span> *<span style="color: #FFFFFF;">kitchen</span>;     <span style="color: #91889B;">/* </span><span style="color: #91889B;">where it's at</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4;">}</span> <span style="color: #FFE261;">house_t</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d1a7fd" class="outline-2">
<h2 id="org5d1a7fd">Formatting</h2>
<div class="outline-text-2" id="text-org5d1a7fd">
<ul class="org-ul">
<li>Indention should be four spaces and tabs shouldn&rsquo;t be used at all.</li>
<li>Parentheses should always be preceded by a space, even in function definitions and calls!</li>
<li>Opening braces should always be on the same line as the definition.</li>
<li>Immediately following an open brace should always be an empty line.</li>
<li>A closing brace should only be preceded by an empty line if non-trivial text follows on the same line.</li>
<li>Groups of related lines of code should have common elements aligned visually.</li>
<li>Curly braces should be omitted for code blocks containing a single line.</li>
<li>Switch case labels should be indented.</li>
<li>Lines should be limited as much as possible to eighty columns wide.</li>
<li><code>if</code>, <code>while</code>, <code>for</code>, etc. should always be preceded by an empty line.</li>
</ul>

<p>
Some examples:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">test_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">hihi</span>; <span style="color: #91889B;">/* </span><span style="color: #91889B;">no empty line follows</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">}</span>;

<span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">another_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">byebye</span>; <span style="color: #91889B;">/* </span><span style="color: #91889B;">empty line follows</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4;">}</span> <span style="color: #FFE261;">another_t</span>;

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">crazy</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">action_t</span> <span style="color: #FFFFFF;">action</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #40B4C4;">switch</span> <span style="color: #EB64B9;">(</span>action<span style="color: #EB64B9;">)</span> <span style="color: #EB64B9;">{</span>

        <span style="color: #40B4C4;">case</span> <span style="color: #B381C5;">ACTION_COOL</span>:
            do_something_cool_with_a_number <span style="color: #74DFC4;">(</span><span style="color: #FFB85B; font-weight: bold;">5</span><span style="color: #74DFC4;">)</span>;
            <span style="color: #40B4C4;">break</span>;

        <span style="color: #40B4C4;">case</span> <span style="color: #B381C5;">ACTION_LAME</span>:
            do_something_lame_with_a_bool <span style="color: #74DFC4;">(</span><span style="color: #B381C5;">true</span><span style="color: #74DFC4;">)</span>;
            <span style="color: #40B4C4;">break</span>;
    <span style="color: #EB64B9;">}</span>
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">win_status_t</span> <span style="color: #EB64B9;">get_win_status</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">player_t</span> *<span style="color: #FFFFFF;">first</span>, <span style="color: #FFE261;">player_t</span> *<span style="color: #FFFFFF;">second</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">score_first</span>, <span style="color: #FFFFFF;">score_second</span>;

    score_first  = get_score <span style="color: #EB64B9;">(</span>first,  <span style="color: #B381C5;">SCORE_MAIN</span><span style="color: #EB64B9;">)</span>;
    score_second = get_score <span style="color: #EB64B9;">(</span>second, <span style="color: #B381C5;">SCORE_MAIN</span><span style="color: #EB64B9;">)</span>;

    <span style="color: #40B4C4;">if</span> <span style="color: #EB64B9;">(</span>score_first == score_second<span style="color: #EB64B9;">)</span>
        <span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">TIE</span>;

    <span style="color: #40B4C4;">if</span> <span style="color: #EB64B9;">(</span>score_first &gt; score_second<span style="color: #EB64B9;">)</span>
        <span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">WIN</span>;

    <span style="color: #40B4C4;">if</span> <span style="color: #EB64B9;">(</span>score_first &lt; score_second<span style="color: #EB64B9;">)</span>
        <span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">LOSE</span>;
<span style="color: #40B4C4;">}</span>
</pre>
</div>

<p>
Included files should be visually divided into the following divisions:
</p>
<ul class="org-ul">
<li>standard library and related files</li>
<li>non-standard library files in the include path</li>
<li>relative files</li>
<li>the associated header file to the current file</li>
</ul>

<p>
For example:
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">interface.c</span><span style="color: #91889B;"> */</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">standard library and co goes here</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">stdlib.h</span><span style="color: #40B4C4;">&gt;</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">stdio.h</span><span style="color: #40B4C4;">&gt;</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">string.h</span><span style="color: #40B4C4;">&gt;</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">unistd.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">foreign libraries n stuff here</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">cairo.h</span><span style="color: #40B4C4;">&gt;</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">SDL/SDL.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">our files</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #B4DCE7;">"draw.h"</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #B4DCE7;">"util.h"</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">the header for which this file includes the implementation</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #B4DCE7;">"interface.h"</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">...</span><span style="color: #91889B;"> */</span>
</pre>
</div>
</div>

<div id="outline-container-org3ca0ab6" class="outline-3">
<h3 id="org3ca0ab6">TODO</h3>
<div class="outline-text-3" id="text-org3ca0ab6">
<p>
<i>don&rsquo;t miss out!!</i>
<i>next time on <b><b>nancy&rsquo;s C style guide</b></b>: what to do when the line is too long to fit in 80 columns!</i>
</p>
</div>
</div>
</div>

<div id="outline-container-orgfb17a13" class="outline-2">
<h2 id="orgfb17a13">Naming conventions</h2>
<div class="outline-text-2" id="text-orgfb17a13">
<ul class="org-ul">
<li>In general, function names, type names, and variable names should all use <code>lowercase_snake_case</code>.</li>
<li>Enumeration constants and preprocessor constants should be <code>UPPERCASE_SNAKE_CASE</code></li>
<li>Related enumeration constants should all have a common prefix related to the type. For example, if you have an enumeration called <code>nut_type_t</code>, then you might have constants of <code>NUT_ALMOND</code>, <code>NUT_CASHEW</code>, or <code>NUT_PEANUT</code>.</li>
<li>Type names should follow the <code>_t</code> suffix convention. For example, <code>stuff_t</code>, <code>color_t</code>, or <code>vec2_t</code>.</li>
<li>Derived or related type names should be formed by some descriptive prefix in concatenation with the name of the derived or related type. For example, if <code>color_t</code> is a base type name, then <code>rgb_color_t</code> might be a derived or related type name.</li>
<li>Pointer types should place the <code>*</code> such that there is a space before the <code>*</code> but not after it.</li>
<li>Index variable names should be prefixed with <code>i_</code> (for &ldquo;index&rdquo;), such as this: <code>i_array</code>.
<ul class="org-ul">
<li>If only one such variable is used in the scope, then the variable should simply be named <code>i</code>.</li>
</ul></li>
<li>Variables expressing a quantity of items should be prefixed with <code>n_</code> (for &ldquo;number&rdquo;), such as this: <code>n_items</code>.
<ul class="org-ul">
<li>If only one such variable is used in the scope, then the variable should simply be named <code>n</code>.</li>
</ul></li>
</ul>

<p>
Some examples:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">silly_number</span> = <span style="color: #B381C5;">SILLIEST_NUMBER</span>;
<span style="color: #EB64B9;">cook_meal</span> <span style="color: #40B4C4;">(</span><span style="color: #B381C5;">MEAL_DINNER</span><span style="color: #40B4C4;">)</span>;
<span style="color: #FFE261;">lamp_t</span> *<span style="color: #FFFFFF;">cool_lamp</span>;
<span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">n_lamps</span>;
<span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">i_lamp</span>;
</pre>
</div>
</div>

<div id="outline-container-orgfb36bf1" class="outline-3">
<h3 id="orgfb36bf1"><span class="todo TODO">TODO</span> write more!</h3>
</div>
</div>

<div id="outline-container-org52b1280" class="outline-2">
<h2 id="org52b1280">Code conventions</h2>
<div class="outline-text-2" id="text-org52b1280">
<ul class="org-ul">
<li>All functions should be implemented in <code>.c</code> files and only public functions should be declared in <code>.h</code> files.</li>
<li>Additionally all header files should use header guards following the exact pattern depicted.</li>
<li>Function description comments should only be included above the declaration in the header file, and excluded from the accompanying <code>.c</code> file.</li>
</ul>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">pizza.h</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4; font-weight: bold;">#if</span><span style="color: #40B4C4; font-weight: bold;">n</span><span style="color: #40B4C4; font-weight: bold;">def</span> <span style="color: #B381C5;">PIZZA_H</span>
<span style="color: #40B4C4; font-weight: bold;">#define</span> <span style="color: #FFFFFF;">PIZZA_H</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">order however many pizzas you could possible want</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">order_pizzas</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">n_pizzas</span><span style="color: #40B4C4;">)</span>;

<span style="color: #40B4C4; font-weight: bold;">#endif</span> <span style="color: #91889B;">/* </span><span style="color: #91889B;">PIZZA_H</span><span style="color: #91889B;"> */</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">pizza.c</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">stdio.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">liborderpizza.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #B4DCE7;">"pizza.h"</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">order_pizzas</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">n_pizzas</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    puts <span style="color: #EB64B9;">(</span><span style="color: #B4DCE7;">"placing order, please wait..."</span><span style="color: #EB64B9;">)</span>;
    place_pizza_order <span style="color: #EB64B9;">(</span>get_local_pizza_joint <span style="color: #74DFC4;">()</span>, n_pizzas, <span style="color: #B381C5;">MUSHROOM</span> | <span style="color: #B381C5;">PINEAPPLE</span> | <span style="color: #B381C5;">SAUSAGE</span><span style="color: #EB64B9;">)</span>;
    puts <span style="color: #EB64B9;">(</span><span style="color: #B4DCE7;">"order placed!! &#128541;"</span><span style="color: #EB64B9;">)</span>;
<span style="color: #40B4C4;">}</span>
</pre>
</div>

<p>
All top-level structs and enums should simultaneously have a name and be <code>typedef</code>&rsquo;d to the same name:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">funky_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">...</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4;">}</span> <span style="color: #FFE261;">funky_t</span>;
</pre>
</div>

<p>
All enumerations should have a final value indicating the number of size of the eumeration of the form <code>NUM_ENUM_TYPE</code>:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">enum</span> <span style="color: #FFE261;">icecream_flavor_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_VANILLA</span>,
    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_CHOCOLATE</span>,
    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_STRAWBERRY</span>,
    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_MINT_CHOCOLATE_CHIP</span>,
    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_SHERBERT</span>,
    <span style="color: #FFFFFF;">ICECREAM_FLAVOR_CARPET</span>,

    <span style="color: #FFFFFF;">NUM_ICECREAM_FLAVOR</span> <span style="color: #91889B;">/* </span><span style="color: #91889B;">also note the empty line above</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">}</span>;
</pre>
</div>

<p>
Redundant <code>else</code>&rsquo;s should be avoided, e.g. in the case that each branch returns:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">it's very dangerous</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">if</span> <span style="color: #40B4C4;">(</span>safety &gt; <span style="color: #B381C5;">DANGER_THRESHOLD</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    alert_neighbors <span style="color: #EB64B9;">()</span>;
    <span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">HIGH_ALERT</span>;
<span style="color: #40B4C4;">}</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">it's really safe</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">if</span> <span style="color: #40B4C4;">(</span>safety &lt; <span style="color: #B381C5;">SAFE_THRESHOLD</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    lower_your_guard <span style="color: #EB64B9;">()</span>;
    <span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">RELAX</span>;
<span style="color: #40B4C4;">}</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">it's a little sketchy out</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">return</span> <span style="color: #B381C5;">KEEP_AN_EYE_OUT</span>;
</pre>
</div>

<p>
<code>size_t</code> should be used in place of <code>int</code> for array indices and array size values:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">cat_and_dog_combos</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">n_cats</span>, <span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">n_dogs</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">size_t</span> <span style="color: #FFFFFF;">i_cat</span>, <span style="color: #FFFFFF;">i_dog</span>;

    <span style="color: #40B4C4;">for</span> <span style="color: #EB64B9;">(</span>i_dog = <span style="color: #FFB85B; font-weight: bold;">0</span>; i_dog &lt; n_dogs; i_dog++<span style="color: #EB64B9;">)</span>
        <span style="color: #40B4C4;">for</span> <span style="color: #EB64B9;">(</span>i_cat = <span style="color: #FFB85B; font-weight: bold;">0</span>; i_cat &lt; n_cats; i_cat++<span style="color: #EB64B9;">)</span>
            printf <span style="color: #EB64B9;">(</span><span style="color: #B4DCE7;">"cat #%d and dog #%d showdown\n"</span>, i_cat, i_dog<span style="color: #EB64B9;">)</span>;
<span style="color: #40B4C4;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ec48d1" class="outline-2">
<h2 id="org8ec48d1">Object-orientation</h2>
<div class="outline-text-2" id="text-org8ec48d1">
<ul class="org-ul">
<li>When using structs in an objected oriented way, method names associated with a type should all be suffixed with the name of the type (without the <code>_t</code>) like this: <code>_type</code>, for example, if the type name is <code>chicken_t</code>, the suffix would be <code>_chicken</code>.</li>
<li>Objects should be designed explicitly to either be passed by pointer or passed by value. In general, only simpler types should be used in the latter way.</li>
<li>Pass-by-pointer types should always have a constructor and destructor with names of this form: <code>create_type</code> and <code>destroy_type</code>.
<ul class="org-ul">
<li>It should always be the constructor&rsquo;s and destructor&rsquo;s responsibility entirely to manage the allocation and freeing of any memory related to the object.</li>
<li>The destructor should only have a single parameter which is the pointer to the object to be destructed.</li>
<li>The constructor may or may not take arguments related to the fields to be initialized</li>
<li>In general, any initialization done by the constructor should be kept to a minimum:
<ul class="org-ul">
<li>clear memory,</li>
<li>set sane default values,</li>
<li>set fields according to initialization parameters,</li>
<li>but <span class="underline">don&rsquo;t</span> do anything that involves calculating initial values!</li>
</ul></li>
</ul></li>
<li>Pass-by-value types should instead have an initializer function with a name of this form: <code>make_type</code>.
<ul class="org-ul">
<li>In general, similarly to constructors, the initializer function should only set the values of the fields to those provided and shouldn&rsquo;t do much in the way of calculation.</li>
</ul></li>
</ul>

<p>
Some examples:
</p>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">cookie.h</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4; font-weight: bold;">#if</span><span style="color: #40B4C4; font-weight: bold;">n</span><span style="color: #40B4C4; font-weight: bold;">def</span> <span style="color: #B381C5;">COOKIE_H</span>
<span style="color: #40B4C4; font-weight: bold;">#define</span> <span style="color: #FFFFFF;">COOKIE_H</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">stdbool.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">pass-by-value example</span><span style="color: #91889B;"> */</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">describes aspects of a cookie's flavor</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">flavor_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">softness</span>;
    <span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">sweetness</span>;

<span style="color: #40B4C4;">}</span> <span style="color: #FFE261;">flavor_t</span>;

<span style="color: #91889B;">/* </span><span style="color: #91889B;">flavor initializer</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">flavor_t</span> <span style="color: #EB64B9;">make_flavor</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">softness</span>, <span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">sweetness</span><span style="color: #40B4C4;">)</span>;

<span style="color: #91889B;">/* </span><span style="color: #91889B;">pass-by-pointer example</span><span style="color: #91889B;"> */</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">the yummiest cookie you ever did saw</span><span style="color: #91889B;"> */</span>
<span style="color: #40B4C4;">typedef</span> <span style="color: #40B4C4;">struct</span> <span style="color: #FFE261;">cookie_t</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">n_chocolate_chips</span>; <span style="color: #91889B;">/* </span><span style="color: #91889B;">how many chocolate chips the cookie has</span><span style="color: #91889B;"> */</span>
    <span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">flavor</span>;       <span style="color: #91889B;">/* </span><span style="color: #91889B;">what the cookie tastes like</span><span style="color: #91889B;"> */</span>
    <span style="color: #FFE261;">bool</span> <span style="color: #FFFFFF;">eaten</span>;            <span style="color: #91889B;">/* </span><span style="color: #91889B;">whether the cookie has been eaten yet</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4;">}</span> <span style="color: #FFE261;">cookie_t</span>;

<span style="color: #91889B;">/* </span><span style="color: #91889B;">cookie constructor</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">cookie_t</span> *<span style="color: #EB64B9;">create_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">n_chocolate_chips</span>, <span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">flavor</span><span style="color: #40B4C4;">)</span>;

<span style="color: #91889B;">/* </span><span style="color: #91889B;">cookie destructor</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">destroy_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">cookie_t</span> *<span style="color: #FFFFFF;">cookie</span><span style="color: #40B4C4;">)</span>; <span style="color: #91889B;">/* </span><span style="color: #91889B;">bye bye cookie ;c</span><span style="color: #91889B;"> */</span>

<span style="color: #91889B;">/* </span><span style="color: #91889B;">eat the cookie up (set the eaten flag to true)</span><span style="color: #91889B;"> */</span>
<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">eat_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">cookie_t</span> *<span style="color: #FFFFFF;">cookie</span><span style="color: #40B4C4;">)</span>;

<span style="color: #40B4C4; font-weight: bold;">#endif</span> <span style="color: #91889B;">/* </span><span style="color: #91889B;">COOKIE_H</span><span style="color: #91889B;"> */</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-c"><span style="color: #91889B;">/* </span><span style="color: #91889B;">cookie.c</span><span style="color: #91889B;"> */</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #40B4C4;">&lt;</span><span style="color: #B4DCE7;">stdlib.h</span><span style="color: #40B4C4;">&gt;</span>

<span style="color: #40B4C4; font-weight: bold;">#include</span> <span style="color: #B4DCE7;">"cookie.h"</span>

<span style="color: #FFE261;">flavor_t</span> <span style="color: #EB64B9;">make_flavor</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">softness</span>, <span style="color: #FFE261;">double</span> <span style="color: #FFFFFF;">sweetness</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">flavor</span>;
    flavor.softness  = softness;
    flavor.sweetness = sweetness;
    <span style="color: #40B4C4;">return</span> flavor;
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">cookie_t</span> *<span style="color: #EB64B9;">create_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">int</span> <span style="color: #FFFFFF;">n_chocolate_chips</span>, <span style="color: #FFE261;">flavor_t</span> <span style="color: #FFFFFF;">flavor</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #FFE261;">cookie_t</span> *<span style="color: #FFFFFF;">cookie</span> = malloc <span style="color: #EB64B9;">(</span><span style="color: #40B4C4;">sizeof</span> <span style="color: #74DFC4;">(</span>cookie_t<span style="color: #74DFC4;">)</span><span style="color: #EB64B9;">)</span>;
    cookie-&gt;n_chocolate_chips = n_chocolate_chips;
    cookie-&gt;flavor = flavor;
    eaten = <span style="color: #B381C5;">false</span>;
    <span style="color: #40B4C4;">return</span> cookie;
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">destroy_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">cookie_t</span> *<span style="color: #FFFFFF;">cookie</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #74DFC4; font-weight: bold;">NOTE:</span><span style="color: #91889B;"> if cookie ever allocates any additional associated memory, we'll clear it here!</span><span style="color: #91889B;"> */</span>

    free <span style="color: #EB64B9;">(</span>cookie<span style="color: #EB64B9;">)</span>;
<span style="color: #40B4C4;">}</span>

<span style="color: #FFE261;">void</span> <span style="color: #EB64B9;">eat_cookie</span> <span style="color: #40B4C4;">(</span><span style="color: #FFE261;">cookie_t</span> *<span style="color: #FFFFFF;">cookie</span><span style="color: #40B4C4;">)</span> <span style="color: #40B4C4;">{</span>

    <span style="color: #91889B;">/* </span><span style="color: #91889B;">nom nom &gt;:3</span><span style="color: #91889B;"> */</span>
    cookie-&gt;eaten = <span style="color: #B381C5;">true</span>;
<span style="color: #40B4C4;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org42fa3e0" class="outline-2">
<h2 id="org42fa3e0"><span class="todo TODO">TODO</span> Multiple constructors and initializers</h2>
<div class="outline-text-2" id="text-org42fa3e0">
</div>
<div id="outline-container-org98e03bc" class="outline-3">
<h3 id="org98e03bc"><span class="todo TODO">TODO</span> Polymorphism</h3>
</div>
</div>

<div id="outline-container-org75c87cf" class="outline-2">
<h2 id="org75c87cf"><span class="todo TODO">TODO</span> Use of <code>goto</code></h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Nancy</p>
<p class="date">Created: 2020-11-23 Mon 23:16</p>
</div>
</body>
</html>
